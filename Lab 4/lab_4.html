<!DOCTYPE html> 
<html>
<head>
    <style>
        body {
            font-family: Arial, sans-serif;
            background-image: url('https://raw.githubusercontent.com/AndreMarques2002/processamentoVideoLabs/main/Background.png');
            background-size: cover;
            text-transform: uppercase;
            font-weight: bold;
            margin: 0;
            overflow-x: hidden;
        }
        .header {
            width: 100%; 
            position: sticky;
            top: 0;
            display: flex;
            justify-content: center;
            align-items: center;
            background-color: #3a9793; 
            padding: 20px;
            box-shadow: 0 2px 4px 0 rgba(0,0,0,0.2);
            z-index: 1;
        }
        .logo {
            width: 100px;
        }
      .footer {
            width: 100%; 
            background-color: #3a9793; 
            text-align: center; 
            color: white;
            padding: 10px;
            
            bottom: 0;
            left: 0;
            z-index: 1;
        }

        .audio-player {
            position: absolute; 
            top: 150px; 
            right: 20px; 
        }
        .title {
            text-align: center; 
            margin-top: 20px; 
            color: white;
        }
        .section {
            margin: 20px; 
            color: white;
        }
        .normal-text {
            text-transform: none;
            text-align: justify;
            font-weight: normal;
        }
        
        .media-container {
            display: flex;
            justify-content: space-around;
            align-items: flex-start;
            gap: 20px;
        }
        .media-content {
            text-align: center;
        }
        video {
            max-width: 100%;
            height: auto;
        }
        
        .image-container {
            display: flex;
            justify-content: space-around;
            align-items: flex-start;
            gap: 20px;
        }
        .image-content {
            display: flex;
            flex-direction: column;
            align-items: center;
    	}
        .image-content img{
        	text-align: center;
        	max-width: 600px;
            
            height: auto;
        }
        imgem {
            max-width: 100%;
            height: auto;
        }
        
        .media-content img,
        .media-content iframe {
            max-width: 100%;
        }
        .menu {
            display: flex;
            gap: 25px;
        }
        .menu-item {
            text-decoration: none;
            color: white;
            font-size: 20px;
        }
        .menu-item:hover {
            color: #006400;
        }
        .dropdown {
            position:relative; 
            display:inline-block; 
        }
        .dropdown-content {
            display:none; 
            position:absolute; 
            min-width: 160px; 
            box-shadow: 0px 8px 16px 0px rgba(0,0,0,0.2); 
            z-index: 1; 
            background-color: #3a9793;
            text-align: center; 
        }
        .dropdown-content a {
            color:white;
            padding: 12px 16px; 
            text-decoration: none; 
            display: block; 
            white-space: nowrap;
        }
        .dropdown-content a:hover {
            color: #006400; /* Cor verde escuro quando o cursor passa por cima */
        }
        .dropdown:hover .dropdown-content {
            display: block; 
        }
        .logo {
            width: 100px;
        }
        .code-container {
            background-color: #3b4252;
            border-radius: 5px;
            padding: 20px;
            box-shadow: 0 0 10px rgba(0, 0, 0, 0.5);
        }
        .code-container pre {
            margin: 0;
            font-family: 'Courier New', Courier, monospace;
            font-size: 14px;
        }
        .code-container code {
            color: #88c0d0;
        }
        table {
            border-collapse: collapse;
            border: 4px solid #3a9793;
            text-align: center;
            margin-left: auto;
            margin-right: auto;
        }
        th, td {
          border: 2px solid #3a9793;
          padding: 8px;
        }
        .image-gallery {
          text-align: center;
		}
    </style>
    <title>Laboratório 4</title>
    <link rel="icon" href="https://raw.githubusercontent.com/AndreMarques2002/processamentoVideoLabs/main/ufabc_icon.png">
</head>
<body>
    <div class="header">
        <img src="https://raw.githubusercontent.com/AndreMarques2002/processamentoVideoLabs/main/ufabc_icon.png" alt="Logo UFABC" class="logo">
        
        <div class="menu">
            <a href="../index.html" class="menu-item">Home</a>
           
            <div class="dropdown">
                <a class="menu-item">Trabalhos</a>
                <div class="dropdown-content">
                    <a href="../Trabalho 1/trabalho_1.html">Trabalho T1</a>
                    <a href="../Trabalho 2/trabalho_2.html">Trabalho T2</a>
                    <a href="../Trabalho 3/trabalho_3.html">Trabalho T3</a>
                    <a href="../Trabalho 4/trabalho_4.html">Trabalho T4</a>
                    <a href="../Trabalho 5/trabalho_5.html">Trabalho T5</a>
                </div>
            </div>
           
            <div class="dropdown">
                <a class="menu-item">Relatórios</a>
                <div class="dropdown-content">
                    <a href="../Lab 1/lab_1.html">Laboratório 1</a>
                    <a href="../Lab 2/lab_2.html">Laboratório 2</a>
                    <a href="../Lab 3/lab_3.html">Laboratório 3</a>
                    <a href="lab_4.html">Laboratório 4</a>
                    <a href="../Lab 5/lab_5.html">Laboratório 5</a>
                </div>
            </div>
        </div>
    </div>

    <h1 class="title">Laboratório 4 - Histograma e Limiarização</h1>

    <div class="section">
        <h2>Introdução</h2>
        <p class="normal-text">
           O processamento de imagens digitais emprega técnicas essenciais para o aprimoramento e análise das características visuais presentes nas imagens. Entre essas técnicas, a equalização de histogramas e a limiarização destacam-se por possibilitarem o ajuste 
		de contraste e a segmentação de elementos relevantes.
        </p>
        
        <p class="normal-text">
        	Neste laboratório, utiliza-se a biblioteca OpenCV em C++ para implementar a equalização de histogramas em imagens em tons de cinza, melhorando o contraste das imagens originais. A equalização redistribui as intensidades dos pixels, promovendo uma 
		representação mais uniforme dos níveis de intensidade.
        </p>
        
        <p class="normal-text">
        	Os experimentos incluem também a captura de imagens em tempo real via webcam, aplicando tanto a equalização de histogramas quanto a limiarização para conversão em imagem binária. Este processo evidencia objetos ou pessoas, facilitando a segmentação 
		e a análise visual. Com essas práticas, busca-se compreender os efeitos da equalização e da limiarização no contraste e na segmentação de imagens.
        </p>

        <br>

        <h2>Fundamentos básicos</h2>
        <p class="normal-text">
        	Em processamento de imagens, a conversão para tons de cinza é uma técnica inicial que simplifica a análise visual ao representar a imagem com apenas intensidades de luz, facilitando a detecção de padrões sem interferência de cores.
        </p>
        
        <p class="normal-text">
        	O histograma de uma imagem representa a distribuição das intensidades de pixel, mostrando a frequência de cada nível de cinza. A equalização de histogramas é um processo que redistribui essas intensidades para aumentar o contraste, melhorando a 
		visibilidade de detalhes em áreas claras e escuras.
        </p>
        
        <p class="normal-text">
        	A limiarização (ou binarização) é uma técnica que transforma uma imagem em preto e branco com base em um valor limite. Pixels com intensidades acima do limiar são convertidos em branco, enquanto os demais são convertidos em preto, criando uma 
		imagem binária que facilita a segmentação de objetos e áreas de interesse. Esses fundamentos formam a base para a análise e o aprimoramento de imagens digitais.
        </p>

        <br>

        <h2>Materiais e Métodos</h2>
        <h3>Lista de Materiais</h3>
            <ul>
                <li><p class="normal-text">Computador com o sistema opercional Linux 22.04 instalado</p></li>
                <li><p class="normal-text">Biblioteca OpenCV devidamente instalada</p></li>
                <li><p class="normal-text">Webcam Microsoft</p></li>
                <li><p class="normal-text">Objetos colorido (vermelho)</p></li>
            </ul>
        
        <br>
        
        <h2>Procedimentos Experimentais</h2>
        <p class="normal-text">
        	Para a realização dos experimentos, foram implementados programas em C++ utilizando a biblioteca OpenCV, com o objetivo de aplicar e analisar técnicas de processamento de imagem, como a conversão para tons de cinza, cálculo e equalização de 
		histogramas e limiarização.
		</p>
        
        <p class="normal-text">
        	As imagens de entrada foram carregadas e convertidas para tons de cinza, quando necessário, simplificando a análise e preparando-as para o cálculo de histogramas e a aplicação de limiarização. Gerou-se também os histogramas para avaliar a 
		distribuição de intensidade dos pixels antes e depois da equalização, que foi aplicada para aumentar o contraste e permitir uma melhor visualização dos detalhes em áreas de baixa e alta intensidade.
      	</p>

      	<p class="normal-text">
      		Ademais, aplicou-se a técnica de limiarização para gerar uma imagem binária, onde áreas acima e abaixo de um valor limiar foram separadas, facilitando a segmentação de objetos e áreas de interesse. A limiarização foi realizada tanto com 
		imagens originais quanto equalizadas, para analisar o impacto da equalização no resultado binário.
      	</p>
        
			
        <br>
        
        <h2>Resultados e Análises</h2>
        <h3>Parte 1</h3>
        <p class="normal-text">
        	A
      	</p>
        
      	<div class="code-container">
	<pre><code>  
#include "opencv2/imgcodecs.hpp"
#include "opencv2/highgui.hpp"
#include "opencv2/imgproc.hpp"
#include &lt;iostream&gt;

using namespace cv;
using namespace std;

void saveHistogramImage(const Mat& hist, const string& filename) {
    int hist_w = 512, hist_h = 400;
    int bin_w = cvRound((double) hist_w / hist.rows);
    Mat histImage(hist_h, hist_w, CV_8UC3, Scalar(0, 0, 0));

    normalize(hist, hist, 0, histImage.rows, NORM_MINMAX, -1, Mat());

    for (int i = 1; i < hist.rows; i++) {
        line(histImage, Point(bin_w * (i - 1), hist_h - cvRound(hist.at<float>(i - 1))),
             Point(bin_w * i, hist_h - cvRound(hist.at<float>(i))),
             Scalar(255, 255, 255), 2, 8, 0);
    }

    imwrite(filename, histImage);
}

int main(int argc, char** argv) {
    CommandLineParser parser(argc, argv, "{@input | Gabriel.jpg | input image}");
    Mat src = imread(samples::findFile(parser.get<String>("@input")), IMREAD_COLOR);
    if (src.empty()) {
        cout << "Could not open or find the image!\n" << endl;
        return -1;
    }

    Mat gray;
    cvtColor(src, gray, COLOR_BGR2GRAY);

    Mat hist;
    int histSize = 256;
    float range[] = {0, 256};
    const float* histRange[] = {range};
    calcHist(&gray, 1, 0, Mat(), hist, 1, &histSize, histRange, true, false);

    Mat equalized;
    equalizeHist(gray, equalized);

    Mat equalizedHist;
    calcHist(&equalized, 1, 0, Mat(), equalizedHist, 1, &histSize, histRange, true, false);

    imshow("Source image", src);
    imshow("Gray image", gray);
    imshow("Equalized Image", equalized);
//    imshow("Histograma", hist);
//    imshow("Histograma Eq", equalizedHist);

    while (true) {
        char c = (char)waitKey();
        if (c == 's') {
            imwrite("gray_image.jpg", gray);
            imwrite("equalized_image.jpg", equalized);
            saveHistogramImage(hist, "histogram_before.jpg");
            saveHistogramImage(equalizedHist, "histogram_after.jpg");
        } else if (c == 'q') {
            break;
        }
    }

    return 0;
}
	</code></pre>
      	</div>


        </p>
        

	<p class="normal-text">
        	E, abaixo estão os resultados obtidos.
	</p>
        
	<div class="image-gallery">
          <h4 class="title">Foto original dos integrantes</h4>
          <div class="image-container">
              <div class="image-content">
                  <img src="https://raw.githubusercontent.com/AndreMarques2002/LabProcessamentoVideo/main/Lab%204/Parte%201/Andre_original.jpg">
              </div>

              <div class="image-content">
                  <img src="https://raw.githubusercontent.com/AndreMarques2002/LabProcessamentoVideo/main/Lab%204/Parte%201/Gabriel_original.jpg">
              </div>

              <div class="image-content">
                  <img src="https://raw.githubusercontent.com/AndreMarques2002/LabProcessamentoVideo/main/Lab%204/Parte%201/Vinicius_original.jpg">
              </div>
          </div>
      	</div>
        
        <br>
        
        <div class="image-gallery">
          <h4 class="title">Fotos convertidas para tons de cinza</h4>
          <div class="image-container">
              <div class="image-content">
                  <img src="https://raw.githubusercontent.com/AndreMarques2002/LabProcessamentoVideo/main/Lab%204/Parte%201/Andre_gray_image.jpg">
              </div>

              <div class="image-content">
                  <img src="https://raw.githubusercontent.com/AndreMarques2002/LabProcessamentoVideo/main/Lab%204/Parte%201/Gabriel_gray_image.jpg">
              </div>

              <div class="image-content">
                  <img src="https://raw.githubusercontent.com/AndreMarques2002/LabProcessamentoVideo/main/Lab%204/Parte%201/Vinicius_gray_image.jpg">
              </div>
          </div>
      	</div>
        
        <br>
        
        <div class="image-gallery">
          <h4 class="title">Fotos equalizadas</h4>
          <div class="image-container">
              <div class="image-content">
                  <img src="https://raw.githubusercontent.com/AndreMarques2002/LabProcessamentoVideo/main/Lab%204/Parte%201/Andre_equalized_image.jpg">
              </div>

              <div class="image-content">
                  <img src="https://raw.githubusercontent.com/AndreMarques2002/LabProcessamentoVideo/main/Lab%204/Parte%201/Gabriel_equalized_image.jpg">
              </div>

              <div class="image-content">
                  <img src="https://raw.githubusercontent.com/AndreMarques2002/LabProcessamentoVideo/main/Lab%204/Parte%201/Vinicius_equalized_image.jpg">
              </div>
          </div>
      	</div>
        
        
        <div class="image-gallery">
          <h4 class="title">Histogramas pré equalização</h4>
          <div class="image-container">
              <div class="image-content">
                  <img src="https://raw.githubusercontent.com/AndreMarques2002/LabProcessamentoVideo/main/Lab%204/Parte%201/Andre_histogram_before.jpg">
              </div>

              <div class="image-content">
                  <img src="https://raw.githubusercontent.com/AndreMarques2002/LabProcessamentoVideo/main/Lab%204/Parte%201/Gabriel_histogram_before.jpg">
              </div>

              <div class="image-content">
                  <img src="https://raw.githubusercontent.com/AndreMarques2002/LabProcessamentoVideo/main/Lab%204/Parte%201/Vinicius_histogram_before.jpg">
              </div>
          </div>
      	</div>
        
        <div class="image-gallery">
          <h4 class="title">Histogramas pós equalização</h4>
          <div class="image-container">
              <div class="image-content">
                  <img src="https://raw.githubusercontent.com/AndreMarques2002/LabProcessamentoVideo/main/Lab%204/Parte%201/Andre_histogram_after.jpg">
              </div>
              
              <br>

              <div class="image-content">
                  <img src="https://raw.githubusercontent.com/AndreMarques2002/LabProcessamentoVideo/main/Lab%204/Parte%201/Gabriel_histogram_after.jpg">
              </div>

              <div class="image-content">
                  <img src="https://raw.githubusercontent.com/AndreMarques2002/LabProcessamentoVideo/main/Lab%204/Parte%201/Vinicius_histogram_after.jpg">
              </div>
          </div>
      	</div>
        
        <br>
        
        <h3>Parte 2</h3>
        
        <div class="code-container">
		<pre><code>  
#include "opencv2/imgcodecs.hpp"
#include "opencv2/highgui.hpp"
#include "opencv2/imgproc.hpp"
#include "opencv2/videoio.hpp"
#include &lt;iostream&gt;

using namespace cv;
using namespace std;

void saveHistogramImage(const Mat& hist, const string& filename) {
    int hist_w = 512, hist_h = 400;
    int bin_w = cvRound((double) hist_w / hist.rows);
    Mat histImage(hist_h, hist_w, CV_8UC3, Scalar(0, 0, 0));

    normalize(hist, hist, 0, histImage.rows, NORM_MINMAX, -1, Mat());

    for (int i = 1; i < hist.rows; i++) {
        line(histImage, Point(bin_w * (i - 1), hist_h - cvRound(hist.at<float>(i - 1))),
             Point(bin_w * i, hist_h - cvRound(hist.at<float>(i))),
             Scalar(255, 255, 255), 2, 8, 0);
    }

    imwrite(filename, histImage);
}

int main(int argc, char** argv) {
    VideoCapture cap(0); // Abre a webcam padrão
    if (!cap.isOpened()) {
        cout << "Erro ao abrir a webcam!" << endl;
        return -1;
    }

    Mat frame, gray, equalized;
    Mat hist, equalizedHist;
    int histSize = 256;
    float range[] = {0, 256};
    const float* histRange[] = {range};

    while (true) {
        cap >> frame; // Captura um frame da webcam
        if (frame.empty()) {
            cout << "Erro ao capturar frame!" << endl;
            break;
        }

        cvtColor(frame, gray, COLOR_BGR2GRAY);
        equalizeHist(gray, equalized);

        calcHist(&gray, 1, 0, Mat(), hist, 1, &histSize, histRange, true, false);
        calcHist(&equalized, 1, 0, Mat(), equalizedHist, 1, &histSize, histRange, true, false);

        imshow("Webcam - Gray", gray);
        imshow("Webcam - Equalized", equalized);

        char c = (char)waitKey(30);
        if (c == 's') {
            imwrite("webcam_gray.jpg", gray);
            imwrite("webcam_equalized.jpg", equalized);
            saveHistogramImage(hist, "webcam_histogram_before.jpg");
            saveHistogramImage(equalizedHist, "webcam_histogram_after.jpg");
        } else if (c == 'q') {
            break;
        }
    }

    cap.release();
    destroyAllWindows();

    return 0;
}
		</code></pre>
      	</div>
        
        
        <div class="image-gallery">
          <h4 class="title">Imagens da webcam convertidas para tons de cinza</h4>
          <div class="image-container">
              <div class="image-content">
                  <img src="https://raw.githubusercontent.com/AndreMarques2002/LabProcessamentoVideo/main/Lab%204/Parte%202/Andre_webcam_gray.jpg">
              </div>
              <div class="image-content">
                  <img src="https://raw.githubusercontent.com/AndreMarques2002/LabProcessamentoVideo/main/Lab%204/Parte%202/Gabriel_webcam_gray.jpg">
              </div>
              <div class="image-content">
                  <img src="https://raw.githubusercontent.com/AndreMarques2002/LabProcessamentoVideo/main/Lab%204/Parte%202/Vinicius_webcam_gray.jpg">
              </div>
          </div>
      	</div>
        
        <br>
        <br>
        <br>
        
        <div class="image-gallery">
          <h4 class="title">Imagens da webcam equalizadas</h4>
          <div class="image-container">
              <div class="image-content">
                  <img src="https://raw.githubusercontent.com/AndreMarques2002/LabProcessamentoVideo/main/Lab%204/Parte%202/Andre_webcam_equalized.jpg">
              </div>
              <div class="image-content">
                  <img src="https://raw.githubusercontent.com/AndreMarques2002/LabProcessamentoVideo/main/Lab%204/Parte%202/Gabriel_webcam_equalized.jpg">
              </div>
              <div class="image-content">
                  <img src="https://raw.githubusercontent.com/AndreMarques2002/LabProcessamentoVideo/main/Lab%204/Parte%202/Vinicius_webcam_equalized.jpg">
              </div>
          </div>
      	</div>
        
        <br>
        <br>
        <br>
        
        <div class="image-gallery">
          <h4 class="title">Histogramas pré equalização (webcam)</h4>
          <div class="image-container">
              <div class="image-content">
                  <img src="https://raw.githubusercontent.com/AndreMarques2002/LabProcessamentoVideo/main/Lab%204/Parte%202/Andre_webcam_histogram_before.jpg">
              </div>
              <div class="image-content">
                  <img src="https://raw.githubusercontent.com/AndreMarques2002/LabProcessamentoVideo/main/Lab%204/Parte%202/Gabriel_webcam_histogram_before.jpg">
              </div>
              <div class="image-content">
                  <img src="https://raw.githubusercontent.com/AndreMarques2002/LabProcessamentoVideo/main/Lab%204/Parte%202/Vinicius_webcam_histogram_before.jpg">
              </div>
          </div>
      	</div>
        
        <br>
        <br>
        <br>
        
        <div class="image-gallery">
          <h4 class="title">Histogramas pós equalização (webcam)</h4>
          <div class="image-container">
              <div class="image-content">
                  <img src="https://raw.githubusercontent.com/AndreMarques2002/LabProcessamentoVideo/main/Lab%204/Parte%202/Andre_webcam_histogram_after.jpg">
              </div>
              <div class="image-content">
                  <img src="https://raw.githubusercontent.com/AndreMarques2002/LabProcessamentoVideo/main/Lab%204/Parte%202/Gabriel_webcam_histogram_after.jpg">
              </div>
              <div class="image-content">
                  <img src="https://raw.githubusercontent.com/AndreMarques2002/LabProcessamentoVideo/main/Lab%204/Parte%202/Vinicius_webcam_histogram_after.jpg">
              </div>
          </div>
      	</div>
        
        <br>
        <br>
        <br>
        
        <div class="image-container">
        <div class="image-content">
            <p>Objeto vermelho convertida para tons de cinza (webcam)</p>
            <img src="https://raw.githubusercontent.com/AndreMarques2002/LabProcessamentoVideo/main/Lab%204/Parte%202/objeto_webcam_gray.jpg">
        </div>
        <div class="image-content">
            <p>Objeto vermelho equalizado (webcam)</p>
            <img src="https://raw.githubusercontent.com/AndreMarques2002/LabProcessamentoVideo/main/Lab%204/Parte%202/objeto_webcam_equalized.jpg">
        </div>
    	</div>
        
        <br>
        <br>
        <br>
        
        <div class="image-container">
        <div class="image-content">
            <p>Histograma do objeto vermelho pré equalização (webcam)</p>
            <img src="https://raw.githubusercontent.com/AndreMarques2002/LabProcessamentoVideo/main/Lab%204/Parte%202/objeto_webcam_histogram_before.jpg">
        </div>
        <div class="image-content">
            <p>Histograma do objeto vermelho pós equalização (webcam)</p>
            <img src="https://raw.githubusercontent.com/AndreMarques2002/LabProcessamentoVideo/main/Lab%204/Parte%202/objeto_webcam_histogram_after.jpg">
        </div>
    	</div>
        
        <br>
        
        <h3>Parte 3</h3>
        <p class="normal-text">
        	Escrever ...
        </p>
        
        <div class="code-container">
		<pre><code>  
#include "opencv2/imgcodecs.hpp"
#include "opencv2/highgui.hpp"
#include "opencv2/imgproc.hpp"
#include "opencv2/videoio.hpp"
#include &lt;iostream&gt;

using namespace cv;
using namespace std;

int threshold_value = 0;
int threshold_type = 3;
int const max_value = 255;
int const max_type = 4;
int const max_binary_value = 255; /* variáveis e constantes da limiarização */

const char* window_name = "Threshold Demo";
 
const char* trackbar_type = "Type: \n 0: Binary \n 1: Binary Inverted \n 2: Truncate \n 3: To Zero \n 4: To Zero Inverted";
const char* trackbar_value = "Value";


Mat frame, gray, equalized;
Mat hist, equalizedHist;
Mat dst;
    
void saveHistogramImage(const Mat& hist, const string& filename) {
    int hist_w = 512, hist_h = 400;
    int bin_w = cvRound((double) hist_w / hist.rows);
    Mat histImage(hist_h, hist_w, CV_8UC3, Scalar(0, 0, 0));

    normalize(hist, hist, 0, histImage.rows, NORM_MINMAX, -1, Mat());

    for (int i = 1; i < hist.rows; i++) {
        line(histImage, Point(bin_w * (i - 1), hist_h - cvRound(hist.at<float>(i - 1))),
             Point(bin_w * i, hist_h - cvRound(hist.at<float>(i))),
             Scalar(255, 255, 255), 2, 8, 0);
    }

    imwrite(filename, histImage);
}

static void Threshold_Demo( int, void* )
{
    /* 0: Binary
     1: Binary Inverted
     2: Threshold Truncated
     3: Threshold to Zero
     4: Threshold to Zero Inverted
    */
    threshold( equalized, dst, threshold_value, max_binary_value, threshold_type );
}

int main(int argc, char** argv) 
{
    VideoCapture cap(0); // Abre a webcam padrão
    if (!cap.isOpened()) {
        cout << "Erro ao abrir a webcam!" << endl;
        return -1;
    }
    
    namedWindow( window_name, WINDOW_AUTOSIZE ); // Cria janela para exibição
    
    createTrackbar( trackbar_type,
                    window_name, &threshold_type,
                    max_type, Threshold_Demo ); // Create a Trackbar to choose type of Threshold
 
    createTrackbar( trackbar_value,
                    window_name, &threshold_value,
                    max_value, Threshold_Demo ); // Create a Trackbar to choose Threshold value
   
    int histSize = 256;
    float range[] = {0, 256};
    const float* histRange[] = {range};

    while (true) {
        cap >> frame; // Captura um frame da webcam
        if (frame.empty()) {
            cout << "Erro ao capturar frame!" << endl;
            break;
        }

        cvtColor(frame, gray, COLOR_BGR2GRAY);
        equalizeHist(gray, equalized);

		Threshold_Demo( 0, 0 ); /* chama função threshold*/

        calcHist(&gray, 1, 0, Mat(), hist, 1, &histSize, histRange, true, false);
        calcHist(&equalized, 1, 0, Mat(), equalizedHist, 1, &histSize, histRange, true, false);


        imshow("Webcam - Gray", gray);
        imshow("Webcam - Equalized", equalized);
		imshow( window_name, dst );

        char c = (char)waitKey(30);
        if (c == 's') {
			imwrite("webcam_binary_threshold.jpg", dst);
            imwrite("webcam_gray.jpg", gray);
            imwrite("webcam_equalized.jpg", equalized);
            saveHistogramImage(hist, "webcam_histogram_before.jpg");
            saveHistogramImage(equalizedHist, "webcam_histogram_after.jpg");
        } 
        else if (c == 'q') 
        {
            break;
        }
    }

    cap.release();
    destroyAllWindows();

    return 0;
}
		</code></pre>
      	</div>
        
        
        
        <div class="image-container">
        <div class="image-content">
            <p>Imagem com thresholding sem equalização</p>
            <img src="https://raw.githubusercontent.com/AndreMarques2002/LabProcessamentoVideo/main/Lab%204/Parte%203/Vinicius_webcam_binary_threshold_EqualizeOff.jpg">
        </div>
        <div class="image-content">
            <p>Imagem com thresholding com equalização</p>
            <img src="https://raw.githubusercontent.com/AndreMarques2002/LabProcessamentoVideo/main/Lab%204/Parte%203/Vinicius_webcam_binary_thresholda_EqualizeOn.jpg">
        </div>
    	</div>
        
        <br>
        <br>
        <br>
        
        <div class="image-container">
        <div class="image-content">
            <p>Objeto verde com thresholding sem equalização</p>
            <img src="https://raw.githubusercontent.com/AndreMarques2002/LabProcessamentoVideo/main/Lab%204/Parte%203/objeto_webcam_binary_threshold.jpg">
        </div>
        <div class="image-content">
            <p>Objeto verde com thresholding com equalização</p>
            <img src="https://raw.githubusercontent.com/AndreMarques2002/LabProcessamentoVideo/main/Lab%204/Parte%203/objeto_webcam_binary_threshold_EqualizeOn.jpg">
        </div>
    	</div>
        
        
        
        
        <h3>Parte 4</h3>
        <p class="normal-text">
        	Escrever ...
        </p>

        <br>

        <h2>Conclusões e Comentários Finais</h2>
        <p class="normal-text">
        	Escrever ...
        </p>
        
    </div>

    <div class="footer">
        <p>PROCESSAMENTO DE VÍDEO</p>
    </div>
</body>
</html>
